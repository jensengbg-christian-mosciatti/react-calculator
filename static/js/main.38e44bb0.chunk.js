(this["webpackJsonpstarter-typescript"]=this["webpackJsonpstarter-typescript"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},34:function(e,t){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(18),o=n.n(a),i=(n(25),n(26),n(7)),u=n(3),s=n(6),f=n(40);function b(e,t){switch(t.type){case"addButtonRef":var n=Object(s.a)(e.keyboard);return n[t.btnId].ref=t.btnRef,Object(u.a)(Object(u.a)({},e),{},{keyboard:Object(s.a)(n)});case"addNumber":return Object(u.a)(Object(u.a)({},e),{},{operation:"0"===e.operation?""+t.number:e.operation+t.number});case"addOperator":return Object(u.a)(Object(u.a)({},e),{},{operation:"0"===e.operation||isNaN(Number(e.operation.slice(-1)))&&")"!==e.operation.slice(-1)?["+","-","/","*","."].some((function(t){return t===e.operation.slice(-1)}))?e.operation.substring(0,e.operation.length-1)+t.operator:e.operation:e.operation+t.operator});case"result":return Object(u.a)(Object(u.a)({},e),{},{operation:["+","-","/","*"].some((function(t){return t===e.operation.slice(-1)}))?e.operation:String(Object(f.a)(e.operation))});case"addComma":return Object(u.a)(Object(u.a)({},e),{},{operation:function(){if("0"===e.operation)return e.operation+".";if(["+","-","/","*"].some((function(t){return t===e.operation.slice(-1)})))return e.operation+"0.";if(")"===e.operation.slice(-1))return e.operation;var t=e.operation.split(/[+*/-]/);return t[t.length-1].includes(".")?e.operation:e.operation+"."}()});case"changeSign":return Object(u.a)(Object(u.a)({},e),{},{operation:function(){if(["+","-","/","*"].some((function(t){return t===e.operation.slice(-1)})))return e.operation;var t=e.operation.split(/(?!(?<=\()-)[+\-*/]/);if(t[t.length-1].includes(")")){var n=t[t.length-1].slice(2,-1);return e.operation.slice(0,-t[t.length-1].length)+n}var r=t[t.length-1];return e.operation.slice(0,-r.length)+"(-".concat(r,")")}()});case"reset":return Object(u.a)(Object(u.a)({},e),{},{operation:"0"});case"deleteLast":return Object(u.a)(Object(u.a)({},e),{},{operation:function(){if(1===e.operation.length)return"0";if(")"!==e.operation.slice(-1))return e.operation.slice(0,-1);var t=e.operation.split(/(?!(?<=\()-)[+\-*/]/),n=t[t.length-1].slice(2,-1);return e.operation.slice(0,-t[t.length-1].length)+n}()})}}var d=function(){var e=Object(r.useReducer)(b,{operation:"0",keyboard:[{id:"btn-0",val:0,func:function(){return u(0)}},{id:"btn-1",val:1,func:function(){return u(1)}},{id:"btn-2",val:2,func:function(){return u(2)}},{id:"btn-3",val:3,func:function(){return u(3)}},{id:"btn-4",val:4,func:function(){return u(4)}},{id:"btn-5",val:5,func:function(){return u(5)}},{id:"btn-6",val:6,func:function(){return u(6)}},{id:"btn-7",val:7,func:function(){return u(7)}},{id:"btn-8",val:8,func:function(){return u(8)}},{id:"btn-9",val:9,func:function(){return u(9)}},{id:"btn-canc",val:"C",func:function(){o({type:"reset"}),a[10].ref.current.blur()}},{id:"btn-del",val:"\u276c",func:function(){o({type:"deleteLast"}),a[11].ref.current.blur()}},{id:"btn-plus",val:"+",func:function(){return s("+")}},{id:"btn-minus",val:"-",func:function(){return s("-")}},{id:"btn-mult",val:"*",func:function(){return s("*")}},{id:"btn-div",val:"/",func:function(){return s("/")}},{id:"btn-eq",val:"=",func:function(){o({type:"result"}),a[16].ref.current.blur()}},{id:"btn-comma",val:",",func:function(){o({type:"addComma"}),a[17].ref.current.blur()}},{id:"btn-plumin",val:"\xb1",func:function(){o({type:"changeSign"}),a[18].ref.current.blur()}}]}),t=Object(i.a)(e,2),n=t[0],c=n.operation,a=n.keyboard,o=t[1];function u(e){o({type:"addNumber",number:e}),[0,1,2,3,4,5,6,7,8,9].forEach((function(e){return a[e].ref.current.blur()}))}function s(e){o({type:"addOperator",operator:e}),[12,13,14,15].forEach((function(e){return a[e].ref.current.blur()}))}return{operation:c,keyboard:a,addButtonRef:function(e,t){o({type:"addButtonRef",btnId:e,btnRef:t})},keyPress:function(e){var t=-1;switch(e){case"Backspace":t=11;break;case"Escape":case"Delete":case"c":case"C":t=10;break;case"Enter":t=16;break;case".":t=17;break;default:t=a.findIndex((function(t){return t.val==e}))}t>-1&&function(e){a[e].ref.current.classList.add("btn-clicked"),setTimeout((function(){return a[e].ref.current.classList.remove("btn-clicked")}),150),a[e].ref.current.click()}(t)}}},l=n(1),p=Object(r.createContext)(),j=function(e){var t=e.children,n=d(),r={operation:n.operation,keyboard:n.keyboard,addButtonRef:n.addButtonRef,keyPress:n.keyPress};return Object(l.jsx)(p.Provider,{value:r,children:t})},v=(n(36),n(37),c.a.memo((function(e){var t=e.btn,n=e.saveRef,c=e.keyboardId,a=t.id,o=t.val,i=t.func,u=Object(r.useRef)(null);return Object(r.useEffect)((function(){n(c,u)}),[c,u]),Object(l.jsx)("button",{style:{gridArea:a},id:a,className:"btn",onClick:i,ref:u,children:o})})));var O=function(e){var t=e.btn,n=e.id,c=Object(r.useContext)(p).addButtonRef;return Object(l.jsx)(v,{btn:t,keyboardId:n,saveRef:c})},h=function(){var e=Object(r.useContext)(p).keyboard;return Object(l.jsx)("div",{className:"keyboard-area",children:e.map((function(e,t){return Object(l.jsx)(O,{btn:e,id:t},t)}))})};var m=function(){var e=Object(r.useContext)(p),t=e.operation,n=e.keyPress;return Object(r.useEffect)((function(){return document.addEventListener("keyup",(function(e){e.stopPropagation(),n(e.key)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("header",{className:"text-outside",children:Object(l.jsx)("h4",{children:"NG Instruments"})}),Object(l.jsxs)("main",{className:"App",children:[Object(l.jsx)("div",{className:"CalcField",children:t}),Object(l.jsx)(h,{})]}),Object(l.jsx)("div",{className:"text-outside",children:Object(l.jsx)("p",{children:"Try using the calculator by typing on your keyboard"})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(j,{children:Object(l.jsx)(m,{})})}),document.getElementById("root")),y()}},[[38,1,2]]]);
//# sourceMappingURL=main.38e44bb0.chunk.js.map